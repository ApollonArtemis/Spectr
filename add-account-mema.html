<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPECTR | Add Account</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bcryptjs/2.4.3/bcrypt.min.js"></script>

    <link rel="shortcut icon" href="images/logo/logo-only.png" type="image/x-icon">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <!-- font awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous" />

    <link rel="stylesheet" href="css/admin.css">

    <script src="js/address.js"></script>
    <script src="js/company_address.js"></script>
    <link rel="stylesheet" href="admin.css">
</head>

<body>

   
<!-- End Navbar -->



<!-- End Navbar -->

<!-- Modal -->
<div class="modal fade" id="multiStepModal" tabindex="-1" aria-labelledby="multiStepModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title fw-bold" id="multiStepModalLabel">User Registration</h2>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="mainform" class="needs-validation" novalidate>
                    <!-- Step 1: Personal Information -->
                    <div class="step" id="step1">
                        <h3 class="fw-bold">Personal Information</h3>
                        <hr>
                         <div class="row mb-2">
                        <div class="col-sm-6 col-xl-4">
                            <div data-mdb-input-init class="form-outline">
                                <label class="form-label" for="firstName">First name</label>
                                <input type="text" id="firstName" class="form-control" required />
                                <div id="firstnameFeedback" class="invalid-feedback">
                                    *Please provide a valid first name.
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-xl-4">
                            <div data-mdb-input-init class="form-outline">
                                <label class="form-label" for="middleName">Middle name</label>
                                <input type="text" id="middleName" class="form-control" required />
                                <div id="middlenameFeedback" class="invalid-feedback">
                                    *Please provide a valid middle name.
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-xl-4">
                            <div data-mdb-input-init class="form-outline">
                                <label class="form-label" for="lastName">Last name</label>
                                <input type="text" id="lastName" class="form-control" required />
                                <div id="lastnameFeedback" class="invalid-feedback">
                                    *Please provide a valid last name.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-sm-6 col-xl-4">
                            <div data-mdb-input-init class="form-outline">
                                <label for="validationCustomContactNo" class="form-label">Contact
                                    Number</label>
                                <div class="input-group has-validation">
                                    <span class="input-group-text bg-secondary text-black"
                                        id="inputGroupPrepend">+63</span>
                                    <input type="text" class="form-control" id="contactNo"
                                        aria-describedby="inputGroupPrepend" required placeholder="9XX XXX XXXX">
                                    <div class="invalid-feedback" id="contactnoFeedback">
                                        *Please provide a contact number.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-xl-4">
                            <div data-mdb-input-init class="form-outline">
                                <label class="form-label" for="gender">Gender</label>
                                <select id="gender" class="form-control" required>
                                    <option value="" disabled selected>Select Gender</option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                </select>
                                <div class="invalid-feedback">
                                    *Please select your gender.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--ADDRESS-->
                    <div class="row mb-4">
                        <h5 class="mt-3 mb-2 fw-bold">Address:</h5>
                        <div class="col-xl-4 col-sm-6 col-lg-4 mb-2">
                            <div data-mdb-input-init class="form-outline">
                                <select class="form-control" id="region" onchange="updateProvince()" required>
                                    <option value="">Select Region</option>
                                    <option value="Mindanao">Mindanao</option>
                                    <option value="NCR">NCR</option>
                                    <option value="North Luzon">North Luzon</option>
                                    <option value="South Luzon">South Luzon</option>
                                    <option value="Visayas">Visayas</option>
                                </select>
                                <div class="invalid-feedback">
                                    *Please select a region.
                                </div>
                            </div>
                        </div>

                        <div class="col-xl-4 col-sm-6 col-lg-4 mb-2">
                            <div data-mdb-input-init class="form-outline">
                                <select class="form-control" id="province" onchange="updateCity()" required>
                                    <option value="">Select Province</option>
                                </select>
                                <div class="invalid-feedback">
                                    *Please select a province.
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-4 col-sm-6 col-lg-4 mb-2">
                            <div data-mdb-input-init class="form-outline">
                                <select class="form-control" id="city" onchange="updateBarangay()" required>
                                    <option value="">Select City</option>
                                </select>
                                <div class="invalid-feedback">
                                    *Please select a city.
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-xl-4 mt-2">
                            <div data-mdb-input-init class="form-outline">
                                <select class="form-control" id="barangay" required>
                                    <option value="">Select Barangay</option>
                                </select>
                                <div class="invalid-feedback">
                                    *Please select a barangay.
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-xl-8 mt-2">
                            <div data-mdb-input-init class="form-outline mb-4">
                                <input type="text" id="addressInfo"
                                    placeholder="Address Info: Street Name, Building Name, House Number..."
                                    class="form-control" required />
                                <div class="invalid-feedback" id="addressInfoFeedback">
                                    *Please provide address info.
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>


                    <!-- Step 2: Address -->
                    <div class="step d-none" id="step2">
                        <h3 class="fw-bold">Company Information</h3>
                        <hr>
                        <div class="row mb-3">
                            <div class="col-sm-6 col-xl-4">
                                <div data-mdb-input-init class="form-outline">
                                    <label class="form-label" for="companyName">Company Name</label>
                                    <input type="text" id="companyName" class="form-control" required />
                                    <div class="invalid-feedback">
                                        *Please provide a valid company name.
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-xl-4">
                                <div data-mdb-input-init class="form-outline">
                                    <label class="form-label" for="companyBranch">Company Branch</label>
                                    <input type="text" id="companyBranch" class="form-control" required />
                                    <div class="invalid-feedback">
                                        *Please provide a company branch.
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-xl-4">
                                <div data-mdb-input-init class="form-outline">
                                    <label class="form-label" for="companyEmail">Company Email</label>
                                    <input type="email" id="companyEmail" class="form-control"
                                        placeholder="example@company.com" required />
                                    <div id="companyEmailFeedback" class="invalid-feedback">
                                        *Please provide a valid company email.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-6 col-xl-4">
                                <div data-mdb-input-init class="form-outline">
                                    <label class="form-label" for="companyContactno">Telephone Number</label>
                                    <input type="text" id="companyTelephoneNo" class="form-control"
                                        placeholder="000-123-4567" required />
                                    <div id="companyTelephoneNoFeedback" class="invalid-feedback">
                                        *Please provide a valid telephone number.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-4">
                            <h5 class="mt-3 mb-2 fw-bold">Company Address:</h5>
                            <div class="col-xl-4 col-sm-6 col-lg-4 mb-2">
                                <div data-mdb-input-init class="form-outline">
                                    <select class="form-control" id="companyRegion" onchange="updateCompanyProvince()"
                                        required>
                                        <option value="">Select Region</option>
                                        <option value="Mindanao">Mindanao</option>
                                        <option value="NCR">NCR</option>
                                        <option value="North Luzon">North Luzon</option>
                                        <option value="South Luzon">South Luzon</option>
                                        <option value="Visayas">Visayas</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        *Please select a region.
                                    </div>
                                </div>
                            </div>
    
                            <div class="col-xl-4 col-sm-6 col-lg-4 mb-2">
                                <div data-mdb-input-init class="form-outline">
                                    <select class="form-control" id="companyProvince" onchange="updateCompanyCity()"
                                        required>
                                        <option value="">Select Province</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        *Please select a province.
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-4 col-sm-6 col-lg-4 mb-2">
                                <div data-mdb-input-init class="form-outline">
                                    <select class="form-control" id="companyCity" onchange="updateCompanyBarangay()"
                                        required>
                                        <option value="">Select City</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        *Please select a city.
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-xl-4 mt-2">
                                <div data-mdb-input-init class="form-outline">
                                    <select class="form-control" id="companyBarangay" required>
                                        <option value="">Select Barangay</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        *Please select a barangay.
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-xl-8 mt-2">
                                <div data-mdb-input-init class="form-outline">
                                    <input type="text" id="companyAddress" class="form-control"
                                        placeholder="Address Info: Street Name, Building Name, House Number..." required />
                                    <div class="invalid-feedback" id="companyAddressFeedback">
                                        *Please provide a valid company address.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 3: Account Details -->
                    <div class="step d-none" id="step3">
                        <h3 class="fw-bold">Account Details</h3>
                        <hr>
                        <div class="row mb-4">
                            <div class="col-sm-6 col-xl-4 mt-2">
                                <div data-mdb-input-init class="form-outline">
                                    <label class="form-label" for="email">Email</label>
                                    <input type="email" id="email" placeholder="myemail@gmail.com" class="form-control"
                                        required />
                                    <div class="invalid-feedback" id="emailFeedback">
                                        *Please provide a valid email.
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-xl-4 mt-2">
                                <div data-mdb-input-init class="form-outline">
                                    <label class="form-label" for="password">Password</label>
                                    <div class="input-group mb-4">
                                        <input type="password" id="password" class="form-control" placeholder="Password"
                                            aria-label="Password" aria-describedby="password-icon" required>
                                        <span class="input-group-text" id="toggle-password-icon"
                                            style="cursor: pointer; display: none;">
                                            <i class="far fa-eye" id="togglePassword"></i>
                                        </span>
                                        <div class="invalid-feedback" id="passwordFeedback">
                                            *Please provide a password.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-xl-4 mt-2">
                                <div data-mdb-input-init class="form-outline">
                                    <label class="form-label" for="confirmPassword">Confirm Password</label>
                                    <div class="input-group mb-4">
                                        <input type="password" id="confirmPassword" class="form-control"
                                            placeholder="Password" aria-label="Password" aria-describedby="password-icon"
                                            required>
                                        <span class="input-group-text" id="toggle-password-icon" style="cursor: pointer;">
                                            <i class="far fa-eye" id="togglePassword2"></i>
                                        </span>
                                        <div class="invalid-feedback" id="confirmPasswordFeedback">
                                            *Please confirm your password.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-xl-4 mt-2">
                                <div data-mdb-input-init class="form-outline">
                                    <label class="form-label" for="pincode">4 PIN Number</label>
                                    <input type="text" id="pincode" placeholder="X X X X" class="form-control" required />
                                    <div class="invalid-feedback" id="pincodeFeedback">
                                        *Please provide a pin code.
                                    </div>
                                </div>
                            </div>
                        </div>
    
                    </div>
                </form>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="prevBtn" onclick="changeStep(-1)" disabled>Previous</button>
                <button type="button" class="btn btn-primary" id="nextBtn" onclick="validateStep()">Next</button>
                <button type="submit" form="mainform" class="btn btn-success d-none" id="submitBtn">Submit</button>
            </div>
        </div>
    </div>
</div>



<!-- JavaScript -->
<script>
    let currentStep = 1;

    function showStep(step) {
        document.querySelectorAll('.step').forEach((stepEl, index) => {
            stepEl.classList.toggle('d-none', index + 1 !== step);
        });

        document.getElementById('prevBtn').disabled = step === 1;
        document.getElementById('nextBtn').classList.toggle('d-none', step === 3);
        document.getElementById('submitBtn').classList.toggle('d-none', step !== 3);
    }

    function changeStep(direction) {
        const steps = document.querySelectorAll('.step');
        if (currentStep + direction > 0 && currentStep + direction <= steps.length) {
            currentStep += direction;
            showStep(currentStep);
        }
    }

    function validateStep() {
        const currentStepEl = document.getElementById(`step${currentStep}`);
        const inputs = currentStepEl.querySelectorAll('input, select');
        let isValid = true;

        inputs.forEach(input => {
            input.classList.add('was-validated');
            if (!input.checkValidity()) {
                isValid = false;
            }
        });

        if (isValid) {
            changeStep(1);
        }
    }

    // Prevent form submission with "Enter" key
    document.getElementById('mainform').addEventListener('keydown', function (e) {
        if (e.key === "Enter" && currentStep !== 3) {
            e.preventDefault();
            validateStep();
        }
    });

    document.getElementById('mainform').addEventListener('submit', function (e) {
        e.preventDefault();
        if (currentStep === 3) {
            alert('Form successfully submitted!');
            // Add your submit logic here
        } else {
            validateStep();
        }
    });

    showStep(currentStep);

    document.getElementById('mainform').addEventListener('submit', function (e) {
        e.preventDefault();
        if (validateStep()) {
            // Close the main modal after successful submission
            $('#multiStepModal').modal('hide');
            
            // Show the custom success modal
            $('#createUserModal').modal('show');
    
            // Add your submit logic here (e.g., sending data to the server or saving it in the database)
        }
    });
    
    
</script>


<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#multiStepModal">
    Open Registration Form
</button>



    <!-- Add the crypto-js script to the HTML -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/bcryptjs"></script> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script type="module" src="js/user_registration.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>